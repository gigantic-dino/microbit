<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="Y%{Hf=BQY#.@fS}~1F(q">connected</variable><variable id="=F(r2fx0,Z@[C`B^=?/?">rec_data</variable><variable id="bZqHze[q4w0%n|canLEv">send_data</variable></variables><block type="pxt-on-start" id="`);EXcFKfTkgHcFO,PyU" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="%#mXYv#a}YxX}XcL]pt2" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let rec_data = &quot;&quot;" numlines="1" declaredvars="rec_data"></mutation><next><block type="bluetooth_start_uart_service" id="]R|~p|~%};m=8-a:+^_N"><comment pinned="false" h="80" w="160">bluetooth.startAccelerometerService()&#10;bluetooth.startButtonService()&#10;bluetooth.startIOPinService()&#10;bluetooth.startLEDService()&#10;bluetooth.startTemperatureService()&#10;bluetooth.startMagnetometerService()</comment><next><block type="basic_show_icon" id="zVfz|TZ%f!FVq}_k04yQ"><field name="i">IconNames.Square</field><next><block type="device_pause" id="MUl8Lr-0O}Zjs1O%LaT,"><value name="pause"><shadow type="timePicker" id="9WJwnXA^uvto8g^*lRnO"><field name="ms">200</field></shadow></value><next><block type="basic_show_icon" id="Rn8KwQD=(D}M^7C}hwAH"><field name="i">IconNames.SmallSquare</field><next><block type="device_pause" id="c+B(HI!=Sp^!FRQ$WQpt"><value name="pause"><shadow type="timePicker" id="FXf=pZ9C}];A0Ad6CTAU"><field name="ms">200</field></shadow></value><next><block type="device_show_leds" id="v4|$MZQ0;Q5fxy9hYTZ/"><field name="LEDS">`&#10;        . . . . . &#10;        . . . . . &#10;        . . # . . &#10;        . . . . . &#10;        . . . . .&#10;        `</field><next><block type="device_pause" id="$NBpxp{~M%37fcNJw7Z*"><value name="pause"><shadow type="timePicker" id="bB0Lk#nU_1M$^_1=7te5"><field name="ms">200</field></shadow></value><next><block type="device_clear_display" id="RgzH:IZAhxZ:QIz_/Ikb"/></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="bluetooth_on_connected" id="4-*PHpPz3l$su2Io|+{q" x="376" y="20"><statement name="HANDLER"><block type="basic_show_icon" id=",r^RT^@g+;U-+(+7zf;)"><field name="i">IconNames.Heart</field><next><block type="variables_set" id="(#bbw#Z-d00z,m!u%!U-"><field name="VAR" id="Y%{Hf=BQY#.@fS}~1F(q">connected</field><value name="VALUE"><shadow type="math_number" id="#h0p%|?SxNPF_9b:8V?`"><field name="NUM">1</field></shadow></value><next><block type="device_while" id="J8n-*+h}iYkqTjN482{u"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="$SRvm(`WBL~?v,4w2/p^"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="6@ehIhA4}_Ayal]v!gB_"><field name="VAR" id="Y%{Hf=BQY#.@fS}~1F(q">connected</field></block></value><value name="B"><shadow type="math_number" id="SHt[,@R=(ZT/OB2m8=zu"><field name="NUM">0</field></shadow></value></block></value><statement name="DO"><block type="controls_if" id="NN3?y:Odfm=9@X:s4gRa"><value name="IF0"><shadow type="logic_boolean" id=")xS-ERz6Oz4|+%GBdI|?"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="HbA2V2;FvWW1uWVawi:t"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="g`Oplkjg2KFwi4q[02eY"><field name="VAR" id="Y%{Hf=BQY#.@fS}~1F(q">connected</field></block></value><value name="B"><shadow type="math_number" id="iePkVc/k%km]KXH4oP!}"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="device_pause" id="=RD/9}!bd[C1k6b=pdgy"><value name="pause"><shadow type="timePicker" id="nmy40b,pW)grNS`nkojB"><field name="ms">800</field></shadow></value><next><block type="variables_change" id="uT-f//qsoq(@qWh{;v,R"><field name="VAR" id="Y%{Hf=BQY#.@fS}~1F(q">connected</field><value name="VALUE"><shadow type="math_number" id="M!-tCc5P+I8Rz;vrap.w"><field name="NUM">1</field></shadow></value><next><block type="bluetooth_uart_line" id="+t[BDbba6RQq2dW2(#+i"><value name="data"><shadow type="text" id="~VvT8wO/9,csNmh=-+kx"><field name="TEXT">Microbit connected</field></shadow></value></block></next></block></next></block></statement><next><block type="variables_set" id="rYN3GKSafZ7|4vJ}!vZ{"><field name="VAR" id="=F(r2fx0,Z@[C`B^=?/?">rec_data</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="bluetooth_uart_read" id=")SG!3t}oQ2-jq.x$8)E{"><value name="del"><shadow type="serial_delimiter_conv" id="U+2[O.[p+7gpMl29)^7p"><field name="del">Delimiters.NewLine</field></shadow></value></block></value><next><block type="variables_set" id="$)JuX+?j{HY4!1axP+s]"><field name="VAR" id="bZqHze[q4w0%n|canLEv">send_data</field><comment pinned="false" h="80" w="160">serial.writeString(rec_data)&#10;serial.writeLine("")&#10;serial.writeValue("status", connected)</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text_join" id="#]aCMWD9VvABcSx1ago1"><mutation items="3"/><value name="ADD0"><shadow type="text" id="O_jfNp@zrS7gU~HpGY(w"><field name="TEXT">Received ###</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="V$7E~2yVMZXM^YzI_e,q" editable="false"><field name="EXPRESSION">rec_data.slice(0, rec_data.length - 1)</field></block></value><value name="ADD2"><shadow type="text"><field name="TEXT"/></shadow><block type="typescript_expression" id="THZ@1f_n3oJdciAzaQb{" editable="false"><field name="EXPRESSION">"###\n"</field></block></value></block></value><next><block type="bluetooth_uart_line" id="pk^KaT0*_5wE.X06UR~8"><value name="data"><block type="variables_get" id="kM)2C;5@ZPo)E$_`hzYi"><field name="VAR" id="bZqHze[q4w0%n|canLEv">send_data</field></block></value><next><block type="device_pause" id="c#f`(zQedO#Ndy?jX4xd"><value name="pause"><shadow type="timePicker" id="l]u8;UWwx;|01KH_s`!!"><field name="ms">100</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="bluetooth_on_disconnected" id="g1LWE_ax)3RM9P_a|aZA" x="1537" y="20"><statement name="HANDLER"><block type="basic_show_icon" id="*_zsr,txKWTfW/hV*)92"><field name="i">IconNames.Sad</field><next><block type="variables_set" id="S!3cGSC1i[kh?D/j-y1l"><field name="VAR" id="Y%{Hf=BQY#.@fS}~1F(q">connected</field><value name="VALUE"><shadow type="math_number" id="oFnmCjS2,.IF^bR`58*!"><field name="NUM">0</field></shadow></value></block></next></block></statement></block><block type="device_button_event" id="`b|{vzE?^bok%@,[%`DO" x="20" y="782"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="controls_if" id=";-W/q1Q$U-]A$K)n[PL6"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=";kGyjB9YF%FCT0g}7Re~"><field name="OP">NEQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="Fyd[{bz4MhXv]ln2xBGv"><field name="VAR" id="Y%{Hf=BQY#.@fS}~1F(q">connected</field></block></value><value name="B"><shadow type="math_number" id=")hx1M9ff%;7;zjP%!Y_K"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="bluetooth_uart_line" id="mLf@rs;e%mS{E5lTO#j%"><value name="data"><shadow type="text" id="E/(M~DAX-bd.UU5]43/!"><field name="TEXT">Button A pressed</field></shadow></value></block></statement></block></statement></block><block type="device_forever" id="ybg7jD9BSq:%WN}(.ay_" x="623" y="782"><comment pinned="false" h="80" w="160">serial.redirectToUSB()</comment><statement name="HANDLER"><block type="device_pause" id="|fX}@bgwg}^s;cu_g.gX"><value name="pause"><shadow type="timePicker" id="LMX(npJyg-C_bdE%!~AR"><field name="ms">100</field></shadow></value></block></statement></block></xml>